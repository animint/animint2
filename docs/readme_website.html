<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Maintaining &amp; Debugging the Animint2 Website • animint2</title><script src="lightswitch.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Roboto_Condensed-0.4.9/font.css" rel="stylesheet"><link href="deps/Roboto_Mono-0.4.9/font.css" rel="stylesheet"><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet"><meta property="og:title" content="Maintaining &amp; Debugging the Animint2 Website"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">animint2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2024.10.11</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="articles/animint2.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/animint/animint2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Maintaining &amp; Debugging the Animint2 Website</h1>
      <small class="dont-index">Source: <a href="https://github.com/animint/animint2/blob/HEAD/readme_website.md" class="external-link"><code>readme_website.md</code></a></small>
    </div>

<div id="maintaining--debugging-the-animint2-website" class="section level1">

<div class="section level2">
<h2 id="about">About<a class="anchor" aria-label="anchor" href="#about"></a></h2>
<p>First written 2023-06-28. Last revised 2023-08-22.</p>
<p>This is an internal document intended for <code>animint2</code> contributors. It explains how to maintain and debug the <code>animint2</code> reference website and gives some reasons why you might need to. Feel free to add to and edit this document.</p>
<p>Maintaining the site is neither hard nor annoying, but it’s also not automatic. Most of the time, you can leave the website alone. But there are some circumstances when you would need to maintain or update the website:</p>
<ul><li>You added a new function to <code>animint2</code>.</li>
<li>You’re getting errors about the GitHub access token or the PAT.</li>
<li>You made changes to the quick start guide.</li>
<li>You wanna change the reference website’s URL.</li>
<li>You wanna change the reference website’s typeface or font.</li>
<li>The website is messed up or has stopped working in some way.</li>
<li>You made changes to some file in the <code>animint2</code> repository and it should have some effect on the website. Examples include <code>NEWS.md</code>, <code>_pkgdown.yml</code>, or <code>pkgdown/extra.css</code>.</li>
</ul></div>
<div class="section level2">
<h2 id="have-you-tried-re-building-it">Have You Tried Re-Building It?<a class="anchor" aria-label="anchor" href="#have-you-tried-re-building-it"></a></h2>
<p>You can solve a lot of maintenance problems by running the following:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>cd whatever<span class="sc">/</span>your<span class="sc">/</span>path<span class="sc">/</span>is<span class="sc">/</span>animint<span class="sc">/</span>animint2</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>pkgdown<span class="sc">::</span><span class="fu">build_site</span>()</span></code></pre></div>
<p>This takes a few minutes and re-builds the site. Then push the changes to the <code>animint2</code> repository.</p>
<p>For a lot of problems, that’s it. But if (substantial) changes aren’t showing up when they should, or if this doesn’t fix the bug, you’ll need to read on.</p>
</div>
<div class="section level2">
<h2 id="adding-a-function">Adding a Function<a class="anchor" aria-label="anchor" href="#adding-a-function"></a></h2>
<p>You added a new function to the <code>animint2</code> package. Congratulations! It was probably a lot of work. But now you need it to show up on the website. The process is straightforward.</p>
<p>First, do everything in the “Have You Tried Re-Building It?” section. If your new function starts with “animint,” “make,” or “get,” your new function will appear on the website. No further work needed.</p>
<p>If it doesn’t, probably because it doesn’t start with any of those prefixes, you’ll have to do more work. First, open <code>_pkgdown.yml</code>, scroll down to <code>references:</code>, and find the section where your new function should be categorized. My guess is that it’d fall under</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">subtitle</span><span class="kw">:</span><span class="at"> </span><span class="st">"Animint Helpers"</span></span></code></pre></div>
<p>but you’d know best. Next, slot it under <code>- contents:</code>. Then run the code in the “Have You Tried Re-Building It?” section again and push the changes to the <code>animint2</code> repo.</p>
</div>
<div class="section level2">
<h2 id="refreshing-the-github-access-token">Refreshing the GitHub Access Token<a class="anchor" aria-label="anchor" href="#refreshing-the-github-access-token"></a></h2>
<p>If you’re getting errors about GitHub access tokens or PATs, that means that they have either expired, changed, or been destroyed, run</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>cd whatever<span class="sc">/</span>your<span class="sc">/</span>path<span class="sc">/</span>is<span class="sc">/</span>animint<span class="sc">/</span>animint2</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">create_github_token</span>()</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>gitcreds<span class="sc">::</span><span class="fu">gitcreds_set</span>()</span></code></pre></div>
<p>and follow the instructions.</p>
</div>
<div class="section level2">
<h2 id="changes-to-the-quick-start-guide">Changes to the Quick Start Guide<a class="anchor" aria-label="anchor" href="#changes-to-the-quick-start-guide"></a></h2>
<p>First, do everything in the “Have You Tried Re-Building It?” section. If your new content hasn’t been added, it’s probably because you used <code>animint2</code>, which renders animints in <code>vignettes/</code> instead of <code>docs/</code>. You’ll need to cut/paste the rendered directories and drop them in <code>docs/articles/</code>. Then run the code in the “Have You Tried Re-Building It?” section again and push the changes to the <code>animint2</code> repo.</p>
<p>It might be possible to use <code><a href="reference/animint2dir.html">animint2::animint2dir()</a></code> to automate this. Unfortunately, I haven’t figured out a way to use it in a way that’s more elegant and maintainable than the cut/paste solution. If you figure it out, feel free to implement it.</p>
</div>
<div class="section level2">
<h2 id="changes-to-the-url">Changes to the URL<a class="anchor" aria-label="anchor" href="#changes-to-the-url"></a></h2>
<p>If you wanna change the URL: go to <code>_pkgdown.yml</code>, edit the <code>url:</code> or add another, and then do everything in the “Have You Tried Re-Building It?” section.</p>
</div>
<div class="section level2">
<h2 id="changes-to-the-typeface-or-font">Changes to the Typeface or Font<a class="anchor" aria-label="anchor" href="#changes-to-the-typeface-or-font"></a></h2>
<p>If you wanna change the typeface (often referred to as the font): go to <code>_pkgdown.yml</code>, then <code>bslib:</code>. You’ll see:</p>
<ul><li>
<code>base_font</code>, which controls the default typeface,</li>
<li>
<code>heading_font</code>, which controls the typeface for titles and headings, and</li>
<li>
<code>code_font</code>, which controls the font in the codeblocks and in in-line code.</li>
</ul><p>Swap out the current font with ones of your choice, and then do everything in the “Have You Tried Re-Building It?” section.</p>
</div>
<div class="section level2">
<h2 id="the-website-is-messed-up">The Website is Messed Up<a class="anchor" aria-label="anchor" href="#the-website-is-messed-up"></a></h2>
<p>Is the website messed up after you pushed some commits to the <code>animint2</code> repository? Revert your commits with <code>git revert $SHA</code> or something. Then debug to find out what happened.</p>
<p>If the website is messed up cuz of changes you made via the GitHub API or via the GitHub website, you’ll need to figure out exactly what you changed and how that’s affect the website. Good luck.</p>
</div>
<div class="section level2">
<h2 id="changes-to-other-animint2-files">Changes to Other Animint2 Files<a class="anchor" aria-label="anchor" href="#changes-to-other-animint2-files"></a></h2>
<p>If a change to the repository is meant to affect <code>animint2</code>’s CRAN page, then you’ll also need to update the website, too. Do everything in the “Have You Tried Re-Building It?” section.</p>
<p>Some changes to the repository are only meant to affect <code>animint2</code>’s reference website. If that’s the case, do everything in the “Have You Tried Re-Building It?” section.</p>
</div>
<div class="section level2">
<h2 id="why-dont-you-just-use-github-actions">Why Don’t You Just Use GitHub Actions?<a class="anchor" aria-label="anchor" href="#why-dont-you-just-use-github-actions"></a></h2>
<p>Using GitHub Actions would automate many parts of maintaining the site, though it’d leave some parts untouched (e.g. refreshing the access token). The main reason I haven’t done it is cuz I dunno how! Feel free to set up the site via GitHub Actions. That’d be great.</p>
</div>
<div class="section level2">
<h2 id="see-also">See Also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
<p>Documentation that may be helpful:</p>
<ul><li><a href="https://usethis.r-lib.org/articles/git-credentials.html" class="external-link">Managing GitHub Credentials</a></li>
<li><a href="https://pkgdown.r-lib.org/index.html" class="external-link"><code>pkgdown</code> Documentation</a></li>
<li><a href="https://usethis.r-lib.org/reference/use_pkgdown.html" class="external-link">Information on <code>usethis::use_pkgdown</code></a></li>
<li><a href="https://github.github.com/gfm/" class="external-link">GitHub-flavored Markdown Specification</a></li>
</ul></div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Toby Hocking, Hadley Wickham, Winston Chang, Nicholas Lewin-Koh, Martin Maechler, Randall Prium, Susan VanderPlas, Carson Sievert, Kevin Ferris, Jun Cai, Faizan Khan, Vivek Kumar, Himanshu Singh, Yufan Fei, Jocelyne Chen, Siddhesh Deodhar.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

