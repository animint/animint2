<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Functions are provided for defining animated,
 interactive data visualizations in R code, and rendering
 on a web page. The 2018 Journal of Computational and 
 Graphical Statistics paper,
 &lt;doi:10.1080/10618600.2018.1513367&gt;
 describes the concepts implemented.">
<title>Animated Interactive Grammar of Graphics â€¢ animint2</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Animated Interactive Grammar of Graphics">
<meta property="og:description" content="Functions are provided for defining animated,
 interactive data visualizations in R code, and rendering
 on a web page. The 2018 Journal of Computational and 
 Graphical Statistics paper,
 &lt;doi:10.1080/10618600.2018.1513367&gt;
 describes the concepts implemented.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">animint2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2023.6.11</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tdhock/animint2/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><p>animint2 provides an animated, interactive grammar of graphics</p>
<p><a href="https://github.com/tdhock/animint2/actions/workflows/tests.yaml" class="external-link"><img src="https://github.com/tdhock/animint2/actions/workflows/tests.yaml/badge.svg"></a></p>
<div class="section level2">
<h2 id="animint2-animated-interactive-grammar-of-graphics">Animint2: animated, interactive grammar of graphics<a class="anchor" aria-label="anchor" href="#animint2-animated-interactive-grammar-of-graphics"></a>
</h2>
<p>Animint2 is an advanced data visualization system that makes it easy for people who work with big data to create multi-layer, multi-plot, multi-panel (facetted), interactive, and possibly animated graphics, in order to understand their big data sets. Animint2 is fork of <a href="https://github.com/hadley/ggplot2" class="external-link">ggplot2</a> that adds the clickSelects and showSelected interactive keywords to the grammar of graphics, and renders to the web using <a href="http://d3js.org/" class="external-link">D3</a>. For example, this multi-layer facetted interactive animation of WorldBank data was created using just <span class="spurious-link" target="inst/examples/WorldBank-facets.R"><em>10 geoms and ~60 lines of R code</em></span>.</p>
<p><a href="https://rcdata.nau.edu/genomic-ml/WorldBank-facets/" class="external-link"><img src="https://raw.githubusercontent.com/tdhock/animint/master/screencast-WorldBank.gif"></a></p>
<p>More examples of advanced data visualizations that are possible/easy to create with animint can be found in the <a href="https://rcdata.nau.edu/genomic-ml/animint-gallery/" class="external-link">animint-gallery</a>.</p>
<p><a href="https://rcdata.nau.edu/genomic-ml/animint-gallery/" class="external-link"><img src="https://user-images.githubusercontent.com/932850/228421946-2c68bbc8-b11c-4312-a6d0-85a960acd0c1.png"></a></p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1" org-language="R"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"animint2"</span><span class="op">)</span><span class="co">#from CRAN (stable).</span></span>
<span><span class="co">##OR from GitHub (development).</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://remotes.r-lib.org" class="external-link">"remotes"</a></span><span class="op">)</span><span class="op">)</span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="va">remotes</span><span class="op">:</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"tdhock/animint2"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="faq">FAQ<a class="anchor" aria-label="anchor" href="#faq"></a>
</h2>
<p>If you have problems rendering animints (such as a blank web page) then please see our <a href="https://github.com/tdhock/animint2/wiki/FAQ#web-browser-on-local-indexhtml-file-is-blank" class="external-link">FAQ wiki page</a>.</p>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The best reference for learning is the <a href="https://rcdata.nau.edu/genomic-ml/animint2-manual/Ch02-ggplot2.html" class="external-link">Animint2 Designer Manual</a>, which provides several examples and exercises to get you started using animint2.</p>
</div>
<div class="section level2">
<h2 id="differences-with-other-packages">Differences with other packages<a class="anchor" aria-label="anchor" href="#differences-with-other-packages"></a>
</h2>
<p><a href="https://amstat.tandfonline.com/doi/abs/10.1080/10618600.2018.1513367?journalCode=ucgs20" class="external-link">Our JCGS paper</a> provides a detailed comparison (an executive summary is below).</p>
<div class="section level3">
<h3 id="r-packages-for-animated-graphics">R packages for animated graphics<a class="anchor" aria-label="anchor" href="#r-packages-for-animated-graphics"></a>
</h3>
<p>R packages <a href="https://github.com/tdhock/gganim" class="external-link">gganim</a>, <a href="https://cloud.r-project.org/web/packages/animation/" class="external-link">animation</a> and <a href="https://github.com/thomasp85/gganimate" class="external-link">gganimate</a> can generate animated graphics, in which the only interaction is going forward or backward in time. In contrast animint2 provides animation and also interaction with other variables (not only time).</p>
</div>
<div class="section level3">
<h3 id="shinyplotly-web-applications">shiny+plotly web applications<a class="anchor" aria-label="anchor" href="#shinyplotly-web-applications"></a>
</h3>
<p>Typical shiny web applications provide interactive graphics with indirect manipulation (via menus/buttons/etc) but the emphasis in animint2 is direct manipulation (via mouse clicks on lines/points/etc). Direct manipulation in shiny apps can also be achieved using <a href="https://plotly-r.com/client-side-linking.html" class="external-link">plotly</a> or <a href="https://dash.plotly.com/r/interactive-graphing" class="external-link">dash</a>, in which interactivity can be specified using events; in contrast animint2 uses the clickSelects/showSelected keywords to specify interactivity, and makes it easy to design multi-layer graphics (which are more difficult in plotly/dash, for which the emphasis is on pre-defined chart types).</p>
</div>
<div class="section level3">
<h3 id="loon-exploratory-graphics">loon exploratory graphics<a class="anchor" aria-label="anchor" href="#loon-exploratory-graphics"></a>
</h3>
<p><a href="http://great-northern-diver.github.io/loon/" class="external-link">loon</a> is an excellent R package for interactive exploratory graphics; the focus of animint2 is interactive presentation graphics.</p>
</div>
<div class="section level3">
<h3 id="old-animint">Old animint<a class="anchor" aria-label="anchor" href="#old-animint"></a>
</h3>
<p>animint2 is a redesign of <a href="https://github.com/tdhock/animint" class="external-link">animint</a> with:</p>
<ul>
<li>Cleaner syntax. In the old animint we had showSelected/clickSelects as aesthetics, and in animint2 they are now geom parameters.</li>
<li>Easier installation. The old animint depended on ggplot2 but animint2 does not (it has copied the necessary functions from ggplot2).</li>
</ul>
<p>For a concrete example of how the syntax changed, consider the following example <a href="https://rcdata.nau.edu/genomic-ml/animint-gallery/2015-06-10-Data-viz-with-206-selectors/" class="external-link">dataviz</a>, adapted from <a href="tests/testthat/test-renderer1-variable-value.R">file:tests/testthat/test-renderer1-variable-value.R</a> and explained in <a href="https://rcdata.nau.edu/genomic-ml/animint2-manual/Ch14-PeakSegJoint.html" class="external-link">Chapter 14 of the Animint2 Manual</a>. The data set used to draw the blue line segments in the bottom plot looks like this:</p>
<div class="sourceCode" id="cb2" org-language="R"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">with</span>(peak.problems, <span class="fu">data.frame</span>(<span class="at">selector.name=</span><span class="fu">paste0</span>(problem.name, <span class="st">"peaks"</span>), problem.name, peaks, bases.per.problem))</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>             selector.name       problem.name peaks bases.per.problem</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  size.<span class="fl">100.</span>problem<span class="fl">.1</span>peaks size.<span class="fl">100.</span>problem<span class="fl">.1</span>     <span class="dv">1</span>               <span class="dv">100</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>  size.<span class="fl">100.</span>problem<span class="fl">.2</span>peaks size.<span class="fl">100.</span>problem<span class="fl">.2</span>     <span class="dv">1</span>               <span class="dv">100</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>   size.<span class="fl">50.</span>problem<span class="fl">.1</span>peaks  size.<span class="fl">50.</span>problem<span class="fl">.1</span>     <span class="dv">1</span>                <span class="dv">50</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   size.<span class="fl">50.</span>problem<span class="fl">.2</span>peaks  size.<span class="fl">50.</span>problem<span class="fl">.2</span>     <span class="dv">1</span>                <span class="dv">50</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>   size.<span class="fl">50.</span>problem<span class="fl">.3</span>peaks  size.<span class="fl">50.</span>problem<span class="fl">.3</span>     <span class="dv">1</span>                <span class="dv">50</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>   size.<span class="fl">50.</span>problem<span class="fl">.4</span>peaks  size.<span class="fl">50.</span>problem<span class="fl">.4</span>     <span class="dv">1</span>                <span class="dv">50</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>  size.<span class="fl">100.</span>problem<span class="fl">.1</span>peaks size.<span class="fl">100.</span>problem<span class="fl">.1</span>     <span class="dv">2</span>               <span class="dv">100</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>  size.<span class="fl">100.</span>problem<span class="fl">.2</span>peaks size.<span class="fl">100.</span>problem<span class="fl">.2</span>     <span class="dv">2</span>               <span class="dv">100</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>   size.<span class="fl">50.</span>problem<span class="fl">.1</span>peaks  size.<span class="fl">50.</span>problem<span class="fl">.1</span>     <span class="dv">2</span>                <span class="dv">50</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>  size.<span class="fl">50.</span>problem<span class="fl">.2</span>peaks  size.<span class="fl">50.</span>problem<span class="fl">.2</span>     <span class="dv">2</span>                <span class="dv">50</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span>  size.<span class="fl">50.</span>problem<span class="fl">.3</span>peaks  size.<span class="fl">50.</span>problem<span class="fl">.3</span>     <span class="dv">2</span>                <span class="dv">50</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span>  size.<span class="fl">50.</span>problem<span class="fl">.4</span>peaks  size.<span class="fl">50.</span>problem<span class="fl">.4</span>     <span class="dv">2</span>                <span class="dv">50</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> </span></code></pre></div>
<p>and the old animint code looks like this:</p>
<div class="sourceCode" id="cb3" org-language="R"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/geom_segment.html">geom_segment</a></span><span class="op">(</span><span class="fu"><a href="reference/aes.html">aes</a></span><span class="op">(</span></span>
<span>  showSelected.variable<span class="op">=</span><span class="va">selector.name</span>,</span>
<span>  showSelected.value<span class="op">=</span><span class="va">peaks</span>,</span>
<span>  clickSelects<span class="op">=</span><span class="va">problem.name</span>,</span>
<span>  showSelected2<span class="op">=</span><span class="va">bases.per.problem</span><span class="op">)</span>,</span>
<span>  data<span class="op">=</span><span class="va">peaks.dt</span><span class="op">)</span></span></code></pre></div>
<p>In both animint and animint2, there are "selectors" which are variables in the interactive graphic that can change based on what you click on. In the old animint, selectors were specified using aesthetics:</p>
<ul>
<li>The <code class="verbatim">aes(clickSelects)</code> means that whenever you click on one of these segments, the <code class="verbatim">problem.name</code> selector will change. For example clicking the segment that is plotted for the first row of data will change <code class="verbatim">problem.name</code> to <code class="verbatim">size.100.problem.1</code>.</li>
<li>The <code class="verbatim">aes(showSelected2)</code> means that the only segments that will be shown are the ones which correspond to the current value of the <code class="verbatim">bases.per.problem</code> selector. For example the segment for the first row of data will only be shown if <code class="verbatim">100</code> is selected for the <code class="verbatim">bases.per.problem</code> selector.</li>
<li>The <code class="verbatim">showSelected.variable</code> and <code class="verbatim">showSelected.value</code> mean to show the segment only if the value of <code class="verbatim">showSelected.value</code> is the current selection of the <code class="verbatim">showSelected.variable</code> selector. For example the segment for the first row of data will only be shown if <code class="verbatim">1</code> is selected for the <code class="verbatim">size.100.problem.1peaks</code> selector.</li>
</ul>
<p>The new animint2 syntax uses parameters instead of aesthetics, so is much more concise:</p>
<div class="sourceCode" id="cb4" org-language="R"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/geom_segment.html">geom_segment</a></span><span class="op">(</span></span>
<span> showSelected<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>selector.name<span class="op">=</span><span class="st">"peaks"</span>, <span class="st">"bases.per.problem"</span><span class="op">)</span>,</span>
<span> clickSelects<span class="op">=</span><span class="st">"problem.name"</span><span class="op">)</span></span></code></pre></div>
<p>Both <code class="verbatim">showSelected</code> and <code class="verbatim">clickSelects</code> should be character vectors. Named elements of the character vector are interpreted as the old variable/value aes, and un-named elements are interpreted as the old clickSelects/showSelected aes.</p>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=animint2" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/tdhock/animint2/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/tdhock/animint2/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing animint2</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Toby Hocking <br><small class="roles"> Author, maintainer </small>  </li>
<li>Hadley Wickham <br><small class="roles"> Author </small>  </li>
<li>Winston Chang <br><small class="roles"> Author </small>  </li>
<li>Nicholas Lewin-Koh <br><small class="roles"> Author </small>  </li>
<li>Martin Maechler <br><small class="roles"> Author </small>  </li>
<li>Randall Prium <br><small class="roles"> Author </small>  </li>
<li>Susan VanderPlas <br><small class="roles"> Author </small>  </li>
<li>Carson Sievert <br><small class="roles"> Author </small>  </li>
<li>Kevin Ferris <br><small class="roles"> Author </small>  </li>
<li>Jun Cai <br><small class="roles"> Author </small>  </li>
<li>Faizan Khan <br><small class="roles"> Author </small>  </li>
<li>Vivek Kumar <br><small class="roles"> Author </small>  </li>
<li>Himanshu Singh <br><small class="roles"> Author </small>  </li>
<li>Yufan Fei <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Toby Hocking, Hadley Wickham, Winston Chang, Nicholas Lewin-Koh, Martin Maechler, Randall Prium, Susan VanderPlas, Carson Sievert, Kevin Ferris, Jun Cai, Faizan Khan, Vivek Kumar, Himanshu Singh, Yufan Fei.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
